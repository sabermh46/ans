<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AN Solution It Ltd.</title>
    <link rel="stylesheet" href="./css/stylesAns.css">
</head>
<body>
    <div class="box">

    </div>

    <div class="navigation_bar">
        <div class="brand">
            <h1>LOGO</h1>
        </div>
        <div class="links">
            <a href="#" class="active">
                Home
            </a>
            <a href="#">
                Gallery
            </a>
            <a href="#">
                about
            </a>
            <a href="#">
                services
            </a>
            <a href="#">
                contact us
            </a>
            <div class="stroke_btn">
                Browse Courses
                <span class="icon">
                    <svg width="22" height="13" viewBox="0 0 22 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.0507 0.929474C2.45947 0.349187 1.50976 0.358063 0.929474 0.949298C0.349187 1.54053 0.358063 2.49024 0.949298 3.07053L3.0507 0.929474ZM11.1698 11L10.1191 12.0705C10.4031 12.3492 10.7861 12.5037 11.184 12.4999C11.5818 12.4962 11.9619 12.3345 12.2405 12.0505L11.1698 11ZM21.0707 3.05051C21.6509 2.45917 21.6418 1.50947 21.0505 0.929287C20.4592 0.349106 19.5095 0.35815 18.9293 0.949489L21.0707 3.05051ZM0.949298 3.07053L10.1191 12.0705L12.2205 9.92947L3.0507 0.929474L0.949298 3.07053ZM12.2405 12.0505L21.0707 3.05051L18.9293 0.949489L10.0991 9.94949L12.2405 12.0505Z" fill="#2E3D62"/>
                    </svg>
                </span>
            </div>
        </div>
    </div>


    <div class="course-card">
        <img src="./assets/c1.png" alt="">
        <div class="card-body">
            <div class="course-name">
                Professional Graphic Design
            </div>
            <div class="min-card">
                <div class="rating">
                    <img src="./assets/stars.svg" alt="">
                </div>
                <div class="reviews">
                    5678 Reviews
                </div>
                <div class="students">
                    7891 Students
                </div>
            </div>
            <div class="card-footer">
                <div class="price">
                    12000BDT
                </div>
                <div class="btn">
                    View Details
                    <span class="icon">
                        <img src="./assets/arrow_right.svg" alt="">
                    </span>
                </div>
            </div>
        </div>
    </div>


    <div style="height: 20px;"></div>
    <!-- Checking BACKEND conection -->
    <style>
        label {
            display: inline-block;
            width: 80px;
            margin-left: 20px;
            margin-bottom: 10px;
        }
        button {
            padding: 5px 10px;
            border-radius: 4px;
            border: 1px solid black;
            outline: none;
            margin: 10px;
            cursor: pointer;
        }
    </style>

    <label>Name</label> <input type="text" id="Namebox"><br>
    <label>RollNo</label> <input type="text" id="Rollbox"><br>
    <label>Section</label> <input type="text" id="Secbox"><br>
    <label>Gender</label>
    <select id="GenBox">
        <option value="male">Male</option>
        <option value="female">Female</option>
    </select>

    <hr>

    <button id="insBtn">INSERT</button>
    <button id="selBtn">SELECT</button>
    <button id="upBtn">UPDATE</button>
    <button id="delBtn">DELETE</button>



    <!-- Backend Connection -->

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyB7gqNbP2uUBKSbB2CF6WMmBzLrMi3ZmFs",
          authDomain: "saber-ans.firebaseapp.com",
          projectId: "saber-ans",
          storageBucket: "saber-ans.appspot.com",
          messagingSenderId: "752507609008",
          appId: "1:752507609008:web:cad1ffc64c5bb784ecc075"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);

        import { getDatabase, ref, get, set, child, update, remove } 
        from "https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js";

        const db = getDatabase();


        /* Reference */

        var nameBox = document.getElementById("Namebox");
        var rollBox = document.getElementById("Rollbox");
        var secBox = document.getElementById("Secbox");
        var genBox = document.getElementById("GenBox");


        var insBtn = document.getElementById("insBtn");
        var selBtn = document.getElementById("selBtn");
        var upBtn = document.getElementById("upBtn");
        var delBtn = document.getElementById("delBtn");


        /* INSERT DATA FUNCTION */

        function InsertData(){
            set(
                ref(db, "TheStudents/" + rollBox.value),
                {
                    StudentName: nameBox.value,
                    RollNo: rollBox.value,
                    Section: secBox.value,
                    Gender: genBox.value
                }
            ).then(
                ()=>{
                    alert("Data Storeed Successfully");
                }
            ).catch(
                (error)=>{
                    alert("Unsuccessful, error: "+error);
                }
            );
        }


        insBtn.addEventListener('click', InsertData);


        function selectData(){
            const dbref = ref(db);

            get(
                child(dbref, "TheStudents/" + rollBox.value)
            ).then(
                (snapShot)=>{
                    if(snapShot.exists()){
                        nameBox.value = snapShot.val().StudentName
                        secBox.value = snapShot.val().Section
                        genBox.value = snapShot.val().Gender
                    } else {
                        alert("No data Found");
                    }
                }
            ).catch(
                (error)=>{
                    alert("Unsuccessful, error: "+error);
                }
            )

        }

        selBtn.addEventListener('click', selectData);


      </script>

    <script src="./js/ansol.js"></script>
</body>
</html>